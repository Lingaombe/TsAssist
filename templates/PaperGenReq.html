<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/form.css">
    <link rel="icon" href="/static/assets/favicon.ico">
    <title>TsAssist</title>
</head>
<body> 
    <!--
        Dzina, malikisi, kagawidwe, kavutidwe
        value ya ma input ku logic ya paper gen
    -->
    {% with messages = get_flashed_messages()%} 
        {% if messages%}
            {% for message in messages%}
                <p id="flash">{{message}}</p>
            {%endfor%}
        {%endif%}
    {%endwith%}
    <nav>
        <h2>TsAssist</h2>
        <div class="buttons">
            <ul>
                <li><a href="/signedin">Home</a></li>
                <li><a href="/settings">Settings</a></li>
            </ul>
            <br>
            <img id="mode" src="../static/assets/moon.png" onclick="toggleMode()" />
        </div>
    </nav>
    <main> 
        <h2 style="text-align: center;">Exam Paper Generation</h2><br>
        <div class="details">
            <div class="text">
                <p>
                    There are three options for generating a question paper:
                </p>
                    <ol>
                        <li>Upload Questions as document</li>
                        <li>Enter Questions Manually</li>
                        <li>Upload Document/Notes</li>
                    </ol>
                <p>
                    Choose the option that best suits your needs and follow the instructions provided.</p>
                    <p>Upload school logo, specify the total marks and any specific instructions for the paper i.e 'calculators allowed'. </p>
                    <p>Click on "Generate Paper" to create a customized exam paper based on your inputs. </p>
                </p>
            </div>
            <form class="form" method="POST" action="{{ url_for('addQuestion')}}">
                <input type="file" accept=".png, .jpg, .jpeg" required name="logo" id="logo"/><br>
                <input name="schoolName" type="text" required placeholder="school name" /><br>
                <input name="subjectName" type="text" required placeholder="subject" /><br>
                <input name="paperName" type="text" required placeholder="name of paper" /> <br>
                <input name="totalMarks" type="number" required placeholder="total marks" /> <br>
                <textarea name="instructions" rows="4" cols="50" placeholder="Enter any specific instructions for the paper here"></textarea> <br>
                <button type="submit" name="paperDets">Save Details</button>
                <p><b>PLEASE ENSURE YOU SAVE DETAILS BEFORE PROCEEDING</b></p>
            </form>
        </div><br>
        <details>
            <summary>1. Upload Questions as document</summary>
            <div class="details">
                <p>
                    This option is for generating a question paper from an uploaded question bank<br>
                    Please upload your question bank as a spreedsheet document<br>
                    If in word document, please make sure the questions are structured in a table format<br>
                    In both cases, ensure the column order is paper name, question text, question type i.e essay, and marks allocated to question.<br>
                    Incase of MCQs, please ensure there are separate columns for all options, marks column should be last<br>
                    The columns should be named as paperName, questionBody, questionType, (MCQ add: questionOption1,..questionOption4), questionMarks<br>
                </p>
                <form class="form" method="post" action="/bankPaperGen" enctype="multipart/form-data">
                    <input type="file" accept=".xsl, .docx, .doc, .sxsl" required placeholder="submit questions" name="questionBank"/> <br>
                    <textarea id="numQuestions" rows="10" cols="50" placeholder="specify structure ie 8 MCQ, 6 SAQ, 4 LAQ" name="numQuestions"></textarea><br>
                    <button type="submit">Generate paper</button>
                </form>
            </div>
        </details>
        <br>

        <details>
            <summary>2. Enter Questions Manually</summary>
            <div class="details">
                <p>
                    This option is for generating a question paper from manually entered questions<br>
                    You can enter your questions directly into the provided text area.<br>
                    Ensure that you format your questions clearly, specifying the question type i.e long answer and the marks allocated for each question.<br>
                    Cross check your question is to your liking before clicking "+" to add next question
                </p>
                <form class="form" method="POST" action="{{ url_for('addQuestion')}}">
                    <!-- mafunso abwere ngati list kupangidwa append ku javascript object makey question, marks, type -->
                    <textarea id="questionBody" rows="10" cols="50" placeholder="Enter your question here" name="questionBody"></textarea><br>
                    <input type="text" id="questionType" placeholder="question type e.g mcq, short answer, long answer" name="questionType"/><br>
                    <div class="ops" style="display: grid; grid-template-columns: repeat(2,1fr); gap:5px;">
                        <input type="text" id="questionOption1" name="questionOption1" placeholder="MCQ option1" />
                        <input type="text" id="questionOption2" name="questionOption2" placeholder="MCQ option2" />
                        <input type="text" id="questionOption3" name="questionOption3" placeholder="MCQ option3" />
                        <input type="text" id="questionOption4" name="questionOption4" placeholder="MCQ option4" />
                    </div>
                    <input type="number" id="questionMarks" placeholder="marks allocated to question" name="questionMarks"/><br>
                    <button name="questionDets" id="addQuestionButton"><b>+</b></button> 
                    <button type="submit" name="manualPaperGen">Generate paper</button>
                </form>
            </div>    
        </details>
        <br>

        <details>
            <summary>3. Upload Document/Notes</summary>
            <div class="details">
                <p>
                    This option is for generating a question paper from a given document or notes<br>
                    You can upload your document in formats such as PDF, Word, or plain text.<br>
                    Ensure that your document is comprehensive and covers all topics you wish to include in the generated paper. <br>
                </p>
                <form class="form">
                    <input type="file" required placeholder="submit document"/> <br>
                    <input type="text" id="questionType" placeholder="question type e.g mcq, short answer, long answer"/><br>
                    <input type="number" required placeholder="number of questions" id="numQuestions" /> <br>
                    <button onclick="addSection()" id="addSectionButton"><b>+</b></button> 
                    <button onclick="docPaperGen()">Generate paper</button>
                </form>
            </div>
        </details>
        <br>                    
    </main>
</body>
<script src="../static/js/main.js"></script>
</html>